var draw=function(){var t=document.querySelector("main").offsetWidth,e=document.querySelector("main").offsetHeight,n=document.createElement("canvas"),o=n.getContext("2d"),a=n.getBoundingClientRect(),d=0,i=0,r=0,c=0,u=0,f=0,s="";return{setXY:function(t){d=t.clientX-a.left-n.offsetLeft,i=t.clientY-a.top-n.offsetTop},writeXY:function(){document.getElementById("trackX").innerHTML="X: "+d,document.getElementById("trackY").innerHTML="Y: "+i},setShape:function(t){s=t,console.log(s)},setStart:function(){r=d,c=i},setEnd:function(){u=d,f=i},getCanvas:function(){return n},drawRect:function(t,e,n,a){o.fillStyle="#"+Math.floor(16777215*Math.random()).toString(16),o.fillRect(r,c,u-r,f-c)},init:function(){n.width=t,n.height=e,document.querySelector("main").appendChild(n)}}}();draw.init(),draw.getCanvas().addEventListener("mousemove",function(t){draw.setXY(t),draw.writeXY()}),draw.getCanvas().addEventListener("mousedown",function(){draw.setStart()}),draw.getCanvas().addEventListener("mouseup",function(){draw.setEnd(),draw.drawRect()}),document.getElementById("btnRect").addEventListener("click",function(){draw.setShape("Rectangle")});